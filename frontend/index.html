<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Tip of the Day</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span class="azure-icon">‚òÅÔ∏è</span>
                <h1>Azure Tip of the Day</h1>
            </div>
            <p class="subtitle">Tanulj minden nap egy √∫j Azure tr√ºkk√∂t!</p>
        </header>

        <main>
            <div id="tip-card" class="tip-card">
                <div class="tip-header">
                    <span id="tip-category" class="category-badge">Bet√∂lt√©s...</span>
                    <span id="tip-difficulty" class="difficulty-badge">-</span>
                </div>
                <h2 id="tip-title" class="tip-title">Azure tipp bet√∂lt√©se...</h2>
                <p id="tip-content" class="tip-content">K√©rlek v√°rj, am√≠g bet√∂ltj√ºk a mai tipped!</p>
            </div>

            <button id="new-tip-btn" class="btn-primary" onclick="loadRandomTip()">
                üé≤ √öj tipp k√©r√©se
            </button>

            <div id="error-message" class="error-message" style="display: none;">
                <p>‚ö†Ô∏è Hiba t√∂rt√©nt a tipp bet√∂lt√©sekor.</p>
                <small id="error-details"></small>
            </div>
        </main>

        <footer>
            <p>Azure 1-Day Workshop | K√©sz√ºlt oktat√°si c√©lra</p>
            <p class="tech-stack">
                <span>üñ•Ô∏è VM + IIS</span>
                <span>‚ö° App Service API</span>
                <span>üóÑÔ∏è Azure SQL</span>
            </p>
        </footer>
    </div>

    <!-- Konfigur√°ci√≥ k√ºl√∂n f√°jlban -->
    <script src="config.js"></script>
    
    <script>
        async function loadRandomTip() {
            const tipCard = document.getElementById('tip-card');
            const errorMessage = document.getElementById('error-message');
            
            tipCard.classList.add('loading');
            errorMessage.style.display = 'none';
            
            try {
                const response = await fetch(`${CONFIG.API_BASE_URL}/api/tip/random`);
                const data = await response.json();
                
                if (data.success) {
                    displayTip(data.tip);
                } else {
                    showError(data.error || 'Ismeretlen hiba');
                }
            } catch (error) {
                showError(`Nem siker√ºlt kapcsol√≥dni az API-hoz: ${error.message}`);
            } finally {
                tipCard.classList.remove('loading');
            }
        }

        function displayTip(tip) {
            document.getElementById('tip-title').textContent = tip.title;
            document.getElementById('tip-content').textContent = tip.content;
            document.getElementById('tip-category').textContent = tip.category;
            document.getElementById('tip-difficulty').textContent = tip.difficulty;
            
            const difficultyBadge = document.getElementById('tip-difficulty');
            difficultyBadge.className = 'difficulty-badge ' + getDifficultyClass(tip.difficulty);
        }

        function getDifficultyClass(difficulty) {
            switch(difficulty) {
                case 'Kezd≈ë': return 'difficulty-beginner';
                case 'K√∂z√©phalad√≥': return 'difficulty-intermediate';
                case 'Halad√≥': return 'difficulty-advanced';
                default: return '';
            }
        }

        function showError(message) {
            const errorMessage = document.getElementById('error-message');
            document.getElementById('error-details').textContent = message;
            errorMessage.style.display = 'block';
        }

        document.addEventListener('DOMContentLoaded', loadRandomTip);
    </script>
</body>
</html>
